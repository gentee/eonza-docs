---
title: Создать форму для ввода данных
desc: Команда создаёт форму для ввода данных
---
# Форма

Команда **Форма** позволяет показывать поля для ввода данных. Она дает возможность показывать поля ввода и чекбоксы в процессе выполнения скрипта. Каждый элеменет соответствует переменной и отображает её текущее значение. Пользователь может указать другие значения для соответствующей переменной.

%html.form%

## Элементы формы

Вы можете добавить в форму поля ввода и чекбоксы.

**Тип элемента**  
Укажите тип элемента формы

* **Однострочный текст**. Однострочное поле ввода.
* **Чекбокс**. 
* **Многострочный текст**. Многострочное поле ввода.
* **Выбор**. Отображает комбобокс с вашими элементами. Они должны быть определены в поле *Дополнительные настройки*.
* **HTML текст**. Позволяет вставить в форму любой HTML текст. В этом случае, поле *Текст* остаётся пустым, а переменная в поле *Имя Переменной* должна содержать HTML текст.
* **Кнопка**. Показывает кнопку с наименованием из поля *Текст*. Форма может иметь несколько кнопок. Данные формы отправляются при нажатии на любую из кнопок. У каждой кнопки должно быть определено имя переменной. При нажатии на кнопку соответствующей переменной присваивается *true*, а переменным у остальных кнопок присваивается пустая строка. Можно присваивать переменной любую строку, для этого укажите её в поле **initial** в *Дополнительных настройках*. Также, вы можете определить поле **default** равное *"true"*, если хотите выделить кнопку цветом. Если вам при нажатию на кнопку (например, *Пропустить*) не нужно проверять обязательные поля, то укажите поле **flags** равное *"skip"*.

``` go
{
    "initial": "mybutton",
    "default": "true"
}
```

* **Динамический**. Вы можете сформировать список элементов в момент выполнения скрипта и показать их используя этот тип. Для этого оставьте поле *Текст* пустым, а переменная в поле *Имя переменной* должна содержать JSON строку со списком элементов.

``` go
[
    {"type": "7", "var": "btn", "text": "#.retry#", "options": { "initial": "retry"}},
    {"type": "7", "var": "btn", "text": "#.abort#", "options": {"initial": "abort"}},
    {"type": "7", "var": "btn", "text": "#.ignore#", "options": {"initial": "ignore"}}
]
```

* **Пароль**. Элемент этого типа служит для ввода паролей. При вводе все символы скрываются. Также, введенное значение не записывается в лог файл.

* **Список чекбоксов**. Этот элемент отображает таблицу с чекбоксом для каждой строки. В поле **Текст** необходимо указать имя переменной-объекта, которая содержит массив объектов с двумя параметрами: *value* и *text*. В поле *text* указан заголовок столбца, а *value* равен имени поля со значением. В поле **Имя переменной** укажите имя переменной-объекта с массивом объектов, которые будут отоображаться  в таблице. Каждый элемент массива должен иметь имена полей, соответствующие столбцам таблицы. Например,

```json
// создайте переменную для описания колонок командой Разобрать JSON
[
    {"value": "name", "text": "Имя"},
    {"value": "age", "text": "Возраст"},
]
```

```json
// создайте переменную с данными командой Разобрать JSON
[
    {"name": "John Doe", "age": "23"},
    {"name": "Maria", "age": "18"},
]
```

Если вы создадите используйте эти две переменные, то форма отобразит таблицы с двумя колонками (*Имя* и *Возраст*) и двумя записями.

По умолчанию, после отправки формы, в переменной массиве будут удалены все неотмеченные элементы. Если вы не хотите удалять элементы, то вы должны добавить в объекты поле, которое будет хранить статус элемента. Также нужно добавить в начало массива колонок описание только с параметром *value*. 

```json
[
    {"value": "checked"},
    {"value": "name", "text": "Имя"},
    {"value": "age", "text": "Возраст"},
]
```

```json
[
    {"name": "John Doe", "age": "23", "checked": true},
    {"name": "Maria", "age": "18"},
]
```

В этом случае, в таблице будут отмечены элементы, у которых это поле равно *true*. После отправки формы, у всех записей значение этого поля будет *true* (для выбранных элементов) или *false*.

Если вы хотите показать список чекбоксов с одним столбцом, то массив может содержать любые объекты (строки, числа). В этом случае, поле **Текст** оставьте пустым.

**Текст**  
Описание или наименование элемента формы.

**Имя переменной**  
Имя переменной привязанной к данному элементу. Если переменная определена, то элемент отоображает её текущее значение. После отправки формы переменная будет равна значению, которое указал пользователь.

**Дополнительные настройки**  
Здесь вы можете указать дополнительные настройки для элементов форм. Они описаны в [Параметрах редактора](/ru/docs/editor-parameters.html). Также вы можете определить следующие параметры:

* **if** - вы можете скрывать элементы в зависимости от значения переменной. Укажите имя переменной и элемент будет скрыт, если в момент показа формы переменная будет неопределена или равна пустой строке, **"0"** или **"false"**. Если вы наоборот, хотите показывать элемент в таких случаях, то добавьте слева символ отрицания **!**.

``` go
{ "if": "myvar"}  //  показать если bool(myvar) == true
{ "if": "!myvar"}  // показать если bool(myvar) == false
```

[%dwnsample%](/samples/sample-3.yaml)

%scriptresult%

%html.sample-3-1%
%html.sample-3-2%