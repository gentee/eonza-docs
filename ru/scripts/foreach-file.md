---
title: Выполнить цикл для каждого файла или директории
desc: Команда запускает вложенные команды для каждого файла или директории.
---
# Цикл для каждого файла

Команда **Цикл для каждого файла** выполняет вложенные команды для каждого файла и директории, которые соответствуют указанным параметрам.

%html.foreach-file%

**Путь**  
Укажите полный или относительный путь к директории, где производится поиск файлов.

**Рекурсивныйй поиск**  
Отметьте этот чекбокс, если хотите искать файлы во всех поддиректориях.

**Искать только файлы**  
Отметьте этот чекбокс, если хотите выполнять цикл только для файлов.

**Маска или регулярное выражение**  
Вы можете указать маску или регулярное выражение для поиска файлов. В этом случае, файл или директория будет обработана только, если его имя подходит к указанной маске или регулярному выражению. Вы можете указать несколько масок или регулярных выражений через запятую. В этом случае, вы можете использовать как маски, так и регулярные выражения.

Маска представляет собой строку с использованием символов:

* '\*' - любая последовательность, кроме символа разделителя
* '?' - любой одиночный символ, кроме символа разделителя

``` text
*.pdf,*.docx  
??file.*
```

Если вы хотите использовать регулярное выражение, то добавьте в начало и в конец символ '/'.

``` text
/\d\d .*/,/^my/
/\w*\.txt$/
```

**Исключать по маске или рег.выраж.**  
Аналогично, вы можете указать маски и регулярные выражения для игнорирования таких файлов и директорий. Следует заметить, что если какая-то директория совпадает с указанной маской или регулярным выражением, то она полностью со всеми своими файлами исключается из поиска.

``` text
.git,/^temp/
```

**Имя переменной**  
Укажите имя переменной, куда будет записано имя текущего файла. Вы можете использовать эту переменную во вложенных командах. Кроме этого, будут созданы переменные со следующими суфиксами:

* **.size** - размер файла.
* **.time** - время последнего изменения файла.
* **.dir** - полный путь директории, где расположен файл.
* **.isdir** - равняется *true*, если текущий элемент является директорией. В противном случае, равен *false*.

Например, если вы указали имя переменной *myfile*, то для файла */home/user/tmp/myfile.txt* размером 64 байта будут определены следующие переменные:

``` go
myfile = "myfile.txt"
myfile.size = "64"
myfile.dir = "/home/user/tmp"
myfile.isdir = "false"
```

## Опциональные параметры

**Искать только директории**  
Если вы хотите искать только директории, то укажите параметр **onlydirs** равный *true*.

``` txt
onlydirs: true
```
